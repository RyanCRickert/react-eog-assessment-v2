(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),i=a.n(c),l=a(14),u=a(24),o=a(79),s=a(88),m=a(89),p=a(43),b=a.n(p),v=a(70),h="EVENT/API_ERROR_RECEIVED",f=a(49),g=b.a.mark(O),d=b.a.mark(E);function O(e){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.a)(f.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},g)}function E(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)(h,O);case 2:case"end":return e.stop()}},d)}var j=[E],w=Object(m.a)(j),y=a(81),T={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},k=Object(y.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var a,n=t.getWeatherForLocation,r=n.description,c=n.locationName,i=n.temperatureinCelsius;return{temperatureinCelsius:i,temperatureinFahrenheit:(a=i,9*a/5+32),description:r,locationName:c}}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=k[t.type];return"undefined"===typeof a?e:a(e,t)},N=a(42),P=a(87),F=a(169),C=a(167),x=(a(114),a(166)),V=a(170),M=a(165),W=a(141),R=a(59),D=a(163),I=a(164),A=a(168),q=a(20),L=Object(q.a)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(A.a),_=Object(R.b)({url:"https://react.eogresources.com/graphql"}),$=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},H=function(){return r.a.createElement(R.a,{value:_},r.a.createElement(B,null))},B=function(){var e=Object(D.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},a=Object(N.b)(),c=Object(N.c)($),i=c.temperatureinFahrenheit,u=c.description,o=c.locationName,s=Object(R.c)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),m=Object(l.a)(s,1)[0],p=m.fetching,b=m.data,v=m.error;return Object(n.useEffect)(function(){if(v)a({type:h,error:v.message});else if(b){var e=b.getWeatherForLocation;a({type:"EVENT/WEATHER_DATA_RECEIVED",getWeatherForLocation:e})}},[a,b,v]),p?r.a.createElement(I.a,null):r.a.createElement(L,{label:"Weather in ".concat(o,": ").concat(u," and ").concat(i,"\xb0")})},J=Object(W.a)({grow:{flexGrow:1}}),G=function(){var e=J();return r.a.createElement(V.a,{position:"static"},r.a.createElement(M.a,null,r.a.createElement(x.a,{variant:"h6",color:"inherit",className:e.grow},"Ryan's"," EOG React Visualization Assessment"),r.a.createElement(H,null)))},z=Object(W.a)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}}),Q=function(e){var t=e.children,a=z();return r.a.createElement("div",{className:a.wrapper},t)},K=a(82),U=a(57),X=a(91),Y=a(67),Z=a(83),ee=a.n(Z),te=a(84),ae=a.n(te),ne=(a(125),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"lds-default"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),re=(a(126),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},e.metric),r.a.createElement("div",{className:"body"},e.value," ",e.unit))});function ce(){var e=Object(K.a)(["\nsubscription {\n  newMeasurement {\n    metric\n    value\n    at\n  }\n}\n"]);return ce=function(){return e},e}var ie=ee()(ae.a),le=Object(X.a)(ce()),ue=function(e,t){var a={query:"\n      query getMeasurements($metric: String!) {\n        getMeasurements(input: {metricName : $metric}) {\n          metric\n          at\n          value\n        }\n      }\n    ",variables:{metric:e}};fetch("https://react.eogresources.com/graphql",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.errors)throw new Error(e.errors[0].message);for(var a=[],n=e.data.getMeasurements,r=n.length-1;r>=n.length-1500;r--)a.unshift({at:Y(n[r].at).format("MMM DD H:mm:ss A"),value:n[r].value});return t(a)}).catch(function(e){console.log(e)})},oe=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],i=a[1],u=Object(n.useState)(),o=Object(l.a)(u,2),s=o[0],m=o[1],p=Object(n.useState)(),b=Object(l.a)(p,2),v=b[0],h=b[1],f=Object(n.useState)(),g=Object(l.a)(f,2),d=g[0],O=g[1],E=Object(n.useState)(),j=Object(l.a)(E,2),w=j[0],y=j[1],T=Object(n.useState)(),k=Object(l.a)(T,2),S=k[0],N=k[1],P=Object(n.useState)([]),F=Object(l.a)(P,2),C=F[0],x=F[1],V=Object(n.useState)(),M=Object(l.a)(V,2),W=M[0],R=M[1],D=Object(n.useState)(),I=Object(l.a)(D,2),A=I[0],q=I[1],L=Object(n.useState)(),_=Object(l.a)(L,2),$=_[0],H=_[1],B=Object(n.useState)(),J=Object(l.a)(B,2),G=J[0],z=J[1],Q=Object(n.useState)(),K=Object(l.a)(Q,2),X=K[0],Z=K[1],ee=Object(n.useState)(),te=Object(l.a)(ee,2),ae=te[0],ce=te[1];Object(n.useEffect)(function(){ue("flareTemp",i),ue("oilTemp",m),ue("waterTemp",h),ue("tubingPressure",O),ue("casingPressure",y),ue("injValveOpen",N),function(){var t=Object.keys(e),a=[];t.forEach(function(t){e[t]&&a.push(t)}),x(a)}()},[e]);var oe=function(e){var t=[],a=[];return e.forEach(function(e){t.push(e.at),a.push(e.value)}),{at:t,value:a}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.b,{subscription:le},function(t){var a=t.loading,n=t.data;a||function(e){var t={at:Y(e.at).format("MMM DD H:mm:ss A"),value:e.value};switch(e.metric){case"oilTemp":if(s){var a=s;return a.push(t),a.shift(),R(e.value),m(a)}break;case"waterTemp":if(v){var n=v;return n.push(t),n.shift(),q(e.value),h(n)}break;case"flareTemp":if(c){var r=c;return r.push(t),r.shift(),H(e.value),i(r)}break;case"tubingPressure":if(d){var l=d;return l.push(t),l.shift(),Z(e.value),O(l)}break;case"casingPressure":if(w){var u=w;return u.push(t),u.shift(),z(e.value),y(u)}break;case"injValveOpen":if(S){var o=S;o.push(t),o.shift(),ce(e.value),N(o)}}}(n.newMeasurement);var l={},u={},o={},p={},b={},f={};s&&e.oilTemp&&(l=oe(s)),v&&e.waterTemp&&(u=oe(v)),c&&e.flareTemp&&(o=oe(c)),w&&e.casingPressure&&(p=oe(w)),d&&e.tubingPressure&&(b=oe(d)),S&&e.injValveOpen&&(f=oe(S));var g=[{type:"scattergl",x:l.at,y:l.value,name:"Oil Temp (\xb0F)",hoverlabel:{namelength:30},marker:{color:"rgb(0, 0, 0)"}},{type:"scatter",x:u.at,y:u.value,name:"Water Temp (\xb0F)",hoverlabel:{namelength:30},marker:{color:"rgb(135, 206, 250)"}},{type:"scatter",x:o.at,y:o.value,name:"Flare Temp (\xb0F)",hoverlabel:{namelength:30},marker:{color:"rgb(250, 100, 115)"}},{type:"scatter",x:p.at,y:p.value,name:"Casing Pressure (PSI)",hoverlabel:{namelength:30},marker:{color:"rgb(50, 104, 243)"}},{type:"scatter",x:b.at,y:b.value,name:"Tubing Pressure (PSI)",hoverlabel:{namelength:30},marker:{color:"rgb(204, 206, 43)"}},{type:"scatter",x:f.at,y:f.value,name:"Injector Valve Open (%)",hoverlabel:{namelength:30},marker:{color:"rgb(250, 206, 43)"}}];return r.a.createElement("div",null,a?r.a.createElement(ne,null):0!==C.length?r.a.createElement(ie,{className:"whatever",data:g,layout:{title:"Metric Tracker",xaxis:{nticks:20},height:700},config:{showLink:!1,displayModeBar:!0}}):r.a.createElement("div",null,"No data selected"))}),r.a.createElement("div",{style:{width:"100%",display:"flex"}},[{metric:"Oil Temp",value:W,prop:"oilTemp",unit:"\xb0F"},{metric:"Flare Temp",value:$,prop:"flareTemp",unit:"\xb0F"},{metric:"Water Temp",value:A,prop:"waterTemp",unit:"\xb0F"},{metric:"Casing Pressure",value:G,prop:"casingPressure",unit:"PSI"},{metric:"Tubing Pressure",value:X,prop:"tubingPressure",unit:"PSI"},{metric:"Injector Valve Open",value:ae,prop:"injValveOpen",unit:"%"}].map(function(t){return e[t.prop]?r.a.createElement(re,{key:t.metric,metric:t.metric,value:t.value,unit:t.unit}):null})))},se=a(22),me=a(34),pe=a(31),be=a(15),ve=a(86),he=a(3),fe=Object(me.b)({uri:"https://react.eogresources.com/graphql"}),ge=new ve.a({uri:"ws://react.eogresources.com/graphql",options:{reconnect:!0}}),de=Object(be.d)(function(e){var t=e.query,a=Object(he.l)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation},ge,fe),Oe=new se.a({link:de,cache:new pe.a}),Ee=function(){var e=Object(u.combineReducers)({weather:S}),t=Object(o.composeWithDevTools)({}),a=Object(s.a)(),n=Object(u.applyMiddleware)(a),r=Object(u.createStore)(e,t(n));return w.forEach(a.run),r}(),je=Object(P.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),we=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],u=Object(n.useState)(!1),o=Object(l.a)(u,2),s=o[0],m=o[1],p=Object(n.useState)(!1),b=Object(l.a)(p,2),v=b[0],h=b[1],g=Object(n.useState)(!1),d=Object(l.a)(g,2),O=d[0],E=d[1],j=Object(n.useState)(!1),w=Object(l.a)(j,2),y=w[0],T=w[1],k=Object(n.useState)(!1),S=Object(l.a)(k,2),P=S[0],x=S[1],V=function(e,t){t(!e)};return r.a.createElement(F.a,{theme:je},r.a.createElement(C.a,null),r.a.createElement(U.a,{client:Oe},r.a.createElement(N.a,{store:Ee},r.a.createElement(Q,null,r.a.createElement(G,null),r.a.createElement("button",{onClick:function(){return V(c,i)}},"Toggle oil"),r.a.createElement("button",{onClick:function(){return V(v,h)}},"Toggle water"),r.a.createElement("button",{onClick:function(){return V(s,m)}},"Toggle flare"),r.a.createElement("button",{onClick:function(){return V(O,E)}},"Toggle tube"),r.a.createElement("button",{onClick:function(){return V(y,T)}},"Toggle case"),r.a.createElement("button",{onClick:function(){return V(P,x)}},"Toggle valve"),r.a.createElement(oe,{oilTemp:c,flareTemp:s,waterTemp:v,tubingPressure:O,casingPressure:y,injValveOpen:P}),r.a.createElement(f.ToastContainer,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){e.exports=a(139)}},[[93,1,2]]]);
//# sourceMappingURL=main.5a35613a.chunk.js.map